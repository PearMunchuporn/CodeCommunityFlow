@model List<CodeCommunityFlow.ViewModels.ReportLogsDTO>
@{
    ViewBag.Title = "Report Logs";
    Layout = "~/Areas/Admin/Views/Shared/_AdminViewLayout.cshtml";
}

<h4 class="my-4">Report Logs</h4>


<table class="table table-responsive-xl" id="ReportLogsTable">
    <thead>
        <tr>
            <th>No.</th>
      
            <th>Report Reason</th>
            <th>Reported by User</th>
            <th>Question </th>
            <th>Answer</th>
            <th>Repored User</th>
            <th>Reported Time</th>
            <th>ReportType</th>

        </tr>
    </thead>
    @{ int no = 1;
    }
    @foreach (var log in Model)
    {
        <tr>

            <td>@no</td>
           
            <td>
                @if (log.Report?.ReportReason != null)
                {
                    <p style="font-size:20px"><span class="badge badge-warning">@Html.DisplayFor(type => log.Report.ReportReason)</span></p>
                }
                else
                {
                    <p style="font-size:20px"><span class="badge badge-warning">N/A</span></p>
                }


            </td>
            <td>
                @if (log.Reporter?.UserName != null)
                {
                    <p style="font-size:20px"><span class="badge badge-primary">@Html.DisplayFor(report => log.Reporter.UserName)</span></p>
                }
                else
                {
                    <p style="font-size:20px"><span class="badge badge-deleted">Deleted User</span></p>
                }
            </td>
            <td>
                @if (log.Questions?.QuestionName != null)
                {
                    <p>@Html.DisplayFor(report => log.Questions.QuestionName)</p>
                }
                else
                {
                    <p style="font-size:20px"><span class="badge badge-deleted">Deleted Question</span></p>
                }
            </td>
            <td>
                @if (log.Answers?.AnswerText != null)
                {
                    <p>@Html.DisplayFor(report => log.Answers.AnswerText)</p>
                }
                else
                {
                    <p style="font-size:20px"><span class="badge badge-deleted">Deleted Answer</span></p>
                }
            </td>
            <td>
                @if (log.ReportedUser?.UserName != null)
                {
                <p style="font-size:20px"><span class="badge badge-primary">@Html.DisplayFor(report => log.ReportedUser.UserName)</span></p>
                }
                else
                {
                    <p style="font-size:20px"><span class="badge badge-deleted">Deleted User</span></p>
                }
            </td>


            <td>@Html.DisplayFor(time => log.ReportedTime)</td>
            <td>
                @if (log.ReportType == "Reported Answer")
                {
                    <p style="font-size:20px"><span class="badge badge-answer">@Html.DisplayFor(type => log.ReportType)</span></p>
                }
                else if (log.ReportType == "Reported Question")
                {
                    <p style="font-size:20px"><span class="badge badge-question">@Html.DisplayFor(type => log.ReportType)</span></p>
                }
                else
                {
                    <p style="font-size:20px"><span class="badge badge-comment">@Html.DisplayFor(type => log.ReportType)</span></p>
                }
            </td>

        </tr>
        no++;
    }


</table>
<style>
    /* Base style */
    .dataTables_wrapper .dataTables_paginate .paginate_button {
        padding: 0.25rem 0.5rem !important;
        font-size: 0.875rem !important;
        margin: 0;
        border-radius: 0.25rem !important;
        color: #007bff !important;
        background: transparent !important;
        border: 1px solid transparent;
    }

        /* Current page */
        .dataTables_wrapper .dataTables_paginate .paginate_button.current {
            background-color: #007bff !important;
            color: #fff !important;
            border: 1px solid transparent;
        }

        /* Hover state override */
        .dataTables_wrapper .dataTables_paginate .paginate_button:hover,
        .dataTables_wrapper .dataTables_paginate .paginate_button:active,
        .dataTables_wrapper .dataTables_paginate .paginate_button:focus {
            background-color: #e2e6ea !important; /* Light gray */
            color: #007bff !important;
            border: 1px solid #dee2e6 !important;
            box-shadow: none !important;
        }
</style>



<!-- Bootstrap JS -->
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.6.2/js/bootstrap.bundle.min.js"></script>

<!-- DataTables core -->
<script src="https://cdn.datatables.net/1.10.21/js/jquery.dataTables.min.js"></script>

<!-- DataTables Bootstrap 4 integration -->
<script src="https://cdn.datatables.net/1.10.21/js/dataTables.bootstrap4.min.js"></script>
<script>
    $(document).ready(function () {
        $('#ReportLogsTable').DataTable();
    });
</script>
